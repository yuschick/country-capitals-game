/******/
!function(e){function t(o){if(n[o])return n[o].exports
var a=n[o]={exports:{},id:o,loaded:!1}
return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={}
t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict"
var o=n(1)
!function(){(function(){function e(){m.addEventListener("click",function(){event.preventDefault(),p()}),q.addEventListener("submit",function(){event.preventDefault(),t(event.target[0].value)}),h.addEventListener("click",function(){event.preventDefault(),n(),p()}),L.addEventListener("click",function(){a()})}function t(e){r(e)===r(M.capital)?(i(),k=!0,D.update(k),D.display()):(i("loser"),k=!1,D.update(k),D.display()),D.store()}function n(){q.reset(),T.innerHTML=""}function a(){o.localStorage.clear("capitalScore"),D.reset(),D.display()}function r(e){return String(e).toLowerCase().replace(new RegExp("[àáâãäå]","g"),"a").replace(new RegExp("æ","g"),"ae").replace(new RegExp("ç","g"),"c").replace(new RegExp("[èéêë]","g"),"e").replace(new RegExp("[ìíîï]","g"),"i").replace(new RegExp("ñ","g"),"n").replace(new RegExp("[òóôõö]","g"),"o").replace(new RegExp("œ","g"),"oe").replace(new RegExp("[ùúûü]","g"),"u").replace(new RegExp("[ýÿ]","g"),"y").replace(/,/g,"").replace(/-/g,"")}function c(e){var t=document.createElement("img")
t.src=e,T.appendChild(t),t.addEventListener("load",function(){s("results"),H.hide()}),N.textContent=M.capital?M.capital:"Trick Question! No Capital.",O.textContent=k?"Winner, winner, chicken dinner.":"Womp womp!"}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"winner"
H.show()
var t=Math.floor(Math.random()*R.length),n="winner"===e?C:R,o=encodeURIComponent(n[t]),a=new XMLHttpRequest
a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.response).data
c(e[Math.floor(Math.random()*e.length)].images.original.url)}},a.open("GET","https://api.giphy.com/v1/gifs/search?q="+o+"&api_key=dc6zaTOxFJmzC",!0),a.send()}function s(e){"begin"===e?(y.classList.remove("is-hidden"),v.classList.add("is-hidden"),S.classList.add("is-hidden")):"play"===e?(y.classList.add("is-hidden"),v.classList.remove("is-hidden"),S.classList.add("is-hidden"),E.focus()):"results"===e&&(y.classList.add("is-hidden"),v.classList.add("is-hidden"),S.classList.remove("is-hidden"))}function l(e){for(var t=e.length,n={},o=0;o<t;o++)n={},n.name=e[o].name,n.capital=e[o].capital,b.push(n)}function d(){var e=Math.floor(Math.random()*b.length)
return b[e]}function u(){H.show()
var e=new XMLHttpRequest
e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){l(JSON.parse(e.response)),H.hide()}else 4===e.readyState&&e.status>=300&&console.log("Whoops!")},e.open("GET","https://restcountries.eu/rest/v1/all",!0),e.send()}function p(){s("play"),M=d(),console.log(M),g()}function g(){J.textContent=M.name}function f(){u(),e(),D.display()}var m=document.querySelector(".start-btn"),h=document.querySelector(".play-again"),y=document.querySelector(".begin-container"),v=document.querySelector(".question-container"),S=document.querySelector(".results-container"),w=document.querySelector(".loading-container"),x=document.querySelector(".score"),L=document.querySelector(".clear-score"),E=document.getElementById("capital-guess"),q=document.querySelector(".guess-form"),R=["womp womp","duh","wrong","fml","idiot","dumbass","terrible","awful","sadness","failure"],C=["get down","winner","sweet","omg","party","celebrate","lit","hype","success","chicken dinner"],M="",b=[],k=!1,J=document.querySelector(".country-headline"),N=document.querySelector(".correct-answer"),O=document.querySelector(".result-text"),T=document.querySelector(".giphy-container"),I=o.localStorage.get("capitalScore")||{correct:0,total:0},D={display:function(){x.textContent=I.correct+"/"+I.total,I.total>0?L.classList.remove("is-hidden"):L.classList.add("is-hidden")},update:function(e){I.total++,e&&I.correct++},reset:function(){I={correct:0,total:0}},store:function(){o.localStorage.set("capitalScore",I)}},H={show:function(){w.classList.remove("is-hidden")},hide:function(){w.classList.add("is-hidden")}}
return{init:f}})().init()}()},function(e,t){"use strict"
e.exports={localStorage:{set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){return void 0!==localStorage[e]&&JSON.parse(localStorage[e])},clear:function(e){localStorage.removeItem(e),console.log(e+" cleared from localStorage.")}}}}])
